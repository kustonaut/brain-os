# Brain OS â€” {{your_name}}'s Daily OS

<!-- 
  SETUP INSTRUCTIONS:
  1. Replace ALL {{placeholders}} with your actual information
  2. Update the Folder Map to match your project structure
  3. Review "Always Rules" and adjust to your preferences
  4. Add/remove skills from the "Installed Skills" section
-->

## Time Hook
Before every response, silently compute:
- **Today:** `{{system date}}` (use the conversation's current date context)
- **Day of week** â€” determines urgency (Mon = fresh week, Thu = prep, Fri = EOW wrap)
- **Time of day** (if available) â€” Morning (before 12 PM): brief/planning mode. Afternoon (12â€“5 PM): execution/action mode. Evening (after 5 PM): review/EOD mode.
- **Week context:** Check if today falls within a ðŸ”´ THIS WEEK window in Action_Items.md and flag any items due today/tomorrow.

Use this temporal context to:
1. Prioritize recommendations (urgent items first on Monâ€“Wed, wrap-up items on Thuâ€“Fri)
2. Adjust tone (morning = concise planning, afternoon = detailed execution, evening = reflective)
3. Flag approaching deadlines proactively ("X is due tomorrow")
4. Reference the correct day's signals file (`signals_YYYY-MM-DD.md`)

## Context
This workspace is **Brain** â€” {{your_name}}'s ({{your_role}}, {{your_team}}) daily operating system. Tracks {{number}} charter areas: {{list_your_charters}}. On track, on and off work (except personal).

## Folder Convention
Each charter folder follows a flat structure:
- **Active deliverables at root** â€” current docs, reports, decks live at the folder root
- **`Reference/`** â€” old transition docs, background material, partner deep-dives
- **`Recordings/`** â€” .mp4 meeting recordings
- **`Transcripts/`** â€” meeting transcript text files

### Folder Map
<!-- This section is auto-generated by sync_instructions.ps1 -->
<!-- Update it manually or run the sync task -->
```
.github/                          # copilot-instructions.md
.vscode/
  skills/                         # Copilot skill files
_Automation/                      # Pipeline scripts + config
_Inbox/                           # Drop zone for new files
00_Daily_Intelligence/
  Daily_Briefs/
  Daily_Logs/
  Knowledge_Base/                 # 10 context files
  Signals/
  Weekly_Snapshots/
01_{{project_1}}/                 # Your first project area
  Reference/
  Recordings/
  Transcripts/
02_{{project_2}}/                 # Your second project area
  Reference/
  Recordings/
  Transcripts/
08_Archive/                       # Archived materials
docs/                             # Documentation
```

## Knowledge Base
Always check `00_Daily_Intelligence/Knowledge_Base/` for current context:
- `Goals.md` â€” **OKRs, key results, metric targets, weekly reflection** (gravity center â€” every skill reads this)
- `Charter_Areas.md` â€” Scope, features, architecture notes
- `Key_Contacts.md` â€” People, aliases, roles
- `Partners.md` â€” External partner details
- `Action_Items.md` â€” Open tasks, action items, recurring meetings
- `Processes_Reference.md` â€” Incident process, release flow, architecture decisions, technical notes
- `AI_PM_Skills.md` â€” AI PM tech stack, prompt technique ladder, temperature table, model routing
- `Agent_Build_Checklist.md` â€” 10-question pre-mortem checklist (run before building any automation)
- `Agent_Failure_Playbook.md` â€” Dev/LLM/Production failure taxonomy + recovery procedures
- `Trust_Boundaries.md` â€” What each script/skill is allowed to do; data classification; escalation triggers

## Daily Signals (Auto-Generated)
Always check `00_Daily_Intelligence/Signals/` for today's raw signals before answering questions:
- `emails_YYYY-MM-DD.md` â€” Outlook email highlights (last 24h, keyword-filtered)
- `ado_YYYY-MM-DD.md` â€” ADO work item states, assigned items
- `calendar_YYYY-MM-DD.md` â€” Today/tomorrow meetings, free slots, conflicts
- `chats_YYYY-MM-DD.md` â€” Teams chat summaries (if Graph API available)

**Priority rule:** Signal files > Knowledge Base > Daily Briefs (most recent first)

## Daily Brief
- Today's brief: `00_Daily_Intelligence/Daily_Briefs/` (date-stamped)
- Previous briefs available for historical context
- Weekly snapshots: `00_Daily_Intelligence/Weekly_Snapshots/` (Friday aggregations)

## Landing Zone
- **`_Inbox/`** â€” Drop any new files here. Automation parses and routes them to correct charter folders daily.
- Use subfolder names to force routing: `_Inbox/project-alpha/`, `_Inbox/project-beta/`, etc.

## Automation System
- **`_Automation/`** â€” Daily orchestrator + pipeline scripts
- **Schedule:** Weekdays 8:30 AM (Windows Task Scheduler)
- **Config:** `_Automation/config.json` (routing keywords, tracked ADO IDs, AI guidance)
- **Logs:** `_Automation/logs/` (date-stamped execution logs)
- **Manual run:** `_Automation\daily_orchestrator.ps1 -Force` (or `-DryRun` for testing)
- **Pipeline steps:** cleanup â†’ parse_inbox â†’ fetch_emails â†’ fetch_chats â†’ fetch_ado â†’ fetch_calendar â†’ generate_brief â†’ block_calendar â†’ sync_instructions
- **Prompt templates:** `_Automation/prompt_templates/` â€” versioned prompt files with `{{variable}}` placeholders
- **Cleanup:** `_Automation/cleanup.ps1` â€” archives signals >14d, briefs >30d, deletes logs >30d
- **Weekly snapshot:** `_Automation/weekly_snapshot.ps1` â€” Friday aggregation of week's signals
- **Portal:** `_Automation/serve_artifacts.py` â€” Brain at http://localhost:8765

## Automation Rules
These apply whenever building or modifying automation, scripts, or prompts:

1. **Temperature-first**: Before writing any prompt, check `config.json â†’ ai_guidance.temperature_by_task`. Use 0.1 for data/brief tasks, 0.5 for comms, 0.8 for creative.
2. **Pre-mortem gate**: Any new automation must pass `Agent_Build_Checklist.md` before implementation.
3. **Trust level check**: Every write/send action must be classified against `Trust_Boundaries.md` before adding to a script.
4. **Prompt templates**: All reusable prompts go in `_Automation/prompt_templates/` as versioned `.md` files with `{{variable}}` placeholders.
5. **Failure taxonomy**: When debugging, classify the failure as Dev/LLM/Production using `Agent_Failure_Playbook.md` before guessing at a fix.
6. **CoT + Step-Back**: For complex reasoning tasks, prepend "Think step by step. What general principle applies? What is the PM most likely missing?" before generating output.

## Installed Skills

<!-- List your active skills here. Each entry tells Copilot what's available. -->

### End of Day (`/eod`)
- **Skill file:** `.vscode/skills/eod.md`
- **What:** Interactive daily close-out â€” reviews tasks, captures wins, updates Goals.md, writes daily log.
- **Actions:** `eod`, `quick`, `wins`

### Quick Capture (`/capture`)
- **Skill file:** `.vscode/skills/capture.md`
- **What:** Capture decisions, action items, and signals from meetings or conversations.
- **Actions:** `capture`, `route`, `review`

### PM Workspace Kit (`/pm_workspace_kit`)
- **Skill file:** `.vscode/skills/pm_workspace_kit.md`
- **What:** Manage your PM intelligence workspace â€” setup wizard, portal launch, pipeline, health check.
- **Actions:** `setup`, `portal`, `pipeline`, `health`, `diagnostics`

### M365 Email Drafter (`/m365_email_drafter`)
- **Skill file:** `.vscode/skills/m365_email_drafter.md`
- **What:** Draft, format, and send professional emails via Outlook COM.
- **Actions:** `draft`, `send`, `reply`, `followup`, `templates`

### M365 Meeting Prep (`/m365_meeting_prep`)
- **Skill file:** `.vscode/skills/m365_meeting_prep.md`
- **What:** Auto-generate meeting prep docs from calendar, signals, ADO data.
- **Actions:** `prep`, `agenda`, `brief`, `today`, `week`

### M365 ADO Reporter (`/m365_ado_reporter`)
- **Skill file:** `.vscode/skills/m365_ado_reporter.md`
- **What:** Advanced Azure DevOps reporting â€” sprint health, epic burndown, stale item detection.
- **Actions:** `status`, `sprint`, `epic`, `query`, `report`, `stale`, `search`

### M365 Teams Comms (`/m365_teams_comms`)
- **Skill file:** `.vscode/skills/m365_teams_comms.md`
- **What:** Draft Teams messages â€” standups, channel announcements, escalations.
- **Actions:** `standup`, `draft`, `announce`, `shoutout`, `escalate`, `status`

### M365 Doc Generator (`/m365_doc_generator`)
- **Skill file:** `.vscode/skills/m365_doc_generator.md`
- **What:** Generate Word, PowerPoint, and Excel documents from templates and data.
- **Actions:** `word`, `ppt`, `excel`, `brief`, `templates`

### PM OS Architect (`/pm_os_architect`)
- **Skill file:** `.vscode/skills/pm_os_architect.md`
- **What:** Design, build, and extend PM OS automations with AI engineering best practices.
- **Actions:** `design`, `debug`, `review`, `checklist`, `add_step`

### PM OS Eval Runner (`/pm_os_eval`)
- **Skill file:** `.vscode/skills/pm_os_eval.md`
- **What:** Run brief generation eval suite. Score daily briefs, run regression checks.
- **Actions:** `run_all`, `run_case N`, `score_today`, `regression`

### Feedback Synthesis (`/feedback_synthesis`)
- **Skill file:** `.vscode/skills/feedback_synthesis.md`
- **What:** Aggregate and analyze feedback across all sources into unified themes.
- **Actions:** `synthesize`, `charter [area]`, `trend`, `partner [name]`

### Insights to Spec (`/insights_to_spec`)
- **Skill file:** `.vscode/skills/insights_to_spec.md`
- **What:** Convert analysis outputs into structured feature specs.
- **Actions:** `spec`, `from_signals`, `refine`

### Deep Review (`/deep_review`)
- **Skill file:** `.vscode/skills/deep_review.md`
- **What:** Adversarial code review with 3 parallel subagents (Advocate, Skeptic, Architect).
- **Actions:** `review`

### Delegate ADO (`/delegate_ado`)
- **Skill file:** `.vscode/skills/delegate_ado.md`
- **What:** Create ADO work items assigned to GitHub Copilot from plans.
- **Actions:** `delegate`, `create`

### TSG Writer (`/tsg_writer`)
- **Skill file:** `.vscode/skills/tsg_writer.md`
- **What:** Write and review Troubleshooting Guides with enforced sections and best practices.
- **Actions:** `write`, `review`, `template`

### AI-Ready Docs (`/ai_ready_docs`)
- **Skill file:** `.vscode/skills/ai_ready_docs.md`
- **What:** Format documentation for AI consumption with 12 formatting standards.
- **Actions:** `format`, `review`, `check`

### Postmortem Generator (`/postmortem_generator`)
- **Skill file:** `.vscode/skills/postmortem_generator.md`
- **What:** Build evidence-backed incident postmortems with 5 Whys analysis.
- **Actions:** `postmortem`, `pomo`, `pir`

### PRD Writer (`/prd_writer`)
- **Skill file:** `.vscode/skills/prd_writer.md`
- **What:** Generate full Product Requirements Documents from scratch, signals, or rough notes.
- **Actions:** `write`, `one_pager`, `rfc`, `review`, `from_template`

### Dashboard Generator (`/dashboard_generator`)
- **Skill file:** `.vscode/skills/dashboard_generator.md`
- **What:** Generate interactive dashboards â€” self-contained HTML (Fluent 2), Kusto/ADX, Excel pivots, Power BI data prep.
- **Actions:** `html`, `kusto`, `excel`, `powerbi`, `refresh`

### Design Spec Generator (`/design_spec`)
- **Skill file:** `.vscode/skills/design_spec.md`
- **What:** Generate UI/UX specs, technical design docs, and Figma handoff briefs with Mermaid diagrams.
- **Actions:** `ui`, `technical`, `figma_brief`, `review`

### MOM Generator (`/mom`)
- **Skill file:** `.vscode/skills/mom_generator.md`
- **What:** Generate Minutes of Meeting from transcripts, notes, or live input with structured output.
- **Actions:** `generate`, `from_transcript`, `template`, `batch`

### KT Session Parser (`/kt_parser`)
- **Skill file:** `.vscode/skills/kt_session_parser.md`
- **What:** Parse knowledge transfer and learning sessions into structured artifacts, quizzes, and onboarding guides.
- **Actions:** `parse`, `series`, `quiz`, `onboard`

## Always Rules
These rules apply to EVERY interaction. No exceptions.

1. **Always open newly created artifacts** â€” After generating any file (.pptx, .docx, .xlsx, .pdf, .html), immediately open it using `Start-Process` so the user can review it.
2. **Always use consistent theme** â€” When creating Office documents, use your org's brand colors. Default: Segoe UI fonts, Blue (#0078D4) accents, Dark Navy (#1B2A4A) headers, Body Gray (#404040) text.
3. **Always save to temp first** â€” When using COM automation, save to `$env:TEMP` first, then copy to the workspace path to avoid file-lock issues.
4. **Always confirm artifact paths** â€” After creating a file, print the full path so the user knows where it landed.
5. **Always offer proactive next steps** â€” After completing any task, suggest related follow-up actions.
6. **Always check Goals.md first** â€” Before recommending priorities or triaging work, read `Goals.md` to align with current OKRs.
7. **Always update Knowledge Base on new info** â€” When the user shares raw information (wiki pages, emails, docs, meeting notes), ALWAYS: (a) save to correct charter folder, (b) extract contacts â†’ `Key_Contacts.md`, (c) extract processes â†’ `Processes_Reference.md`, (d) extract action items â†’ `Action_Items.md`.

## Workflow Rules

### 1. Plan Before Building
For ANY multi-step task (3+ steps): plan first using a todo list. If something goes sideways, STOP and re-plan.

### 2. Subagent Strategy
Use subagents liberally to keep main context window clean. Offload research, exploration, and parallel analysis.

### 3. Self-Improvement Loop
After ANY correction from the user, update the relevant Knowledge Base file so the mistake never recurs.

### 4. Verification Before Done
Never mark a task complete without proving it works â€” run the script, check the file, open the artifact.

### 5. Demand Elegance (Balanced)
For non-trivial scripts: pause and ask "is there a cleaner way?" Skip for simple one-off fixes.

### 6. Autonomous Problem Resolution
When encountering a broken state: just fix it. Check logs, errors, file states â€” then resolve.

### 7. Stale Task Detection
During `/eod`, scan Action_Items.md for items >5 days without status change. Flag them proactively.

## Core Principles
- **Simplicity First:** Make every change as simple as possible. Minimal impact.
- **No Laziness:** Find root causes. No temporary fixes. Senior engineer standards.
- **Minimal Impact:** Changes should only touch what's necessary.

## Technical Environment
- **Python:** `.venv/` with python 3.x
- **Libraries:** python-docx, python-pptx, matplotlib, openpyxl
- **Python command:** `& "./.venv/Scripts/python.exe"`
